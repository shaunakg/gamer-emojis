<head>
    <title>404 - not found.</title>
    <style>

        body {
            margin: 0;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;

            width: 100%;
            height: 100%;

            font-family: -apple-system, BlinkMacSystemFont, Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        div {
            padding: 30px;
        }

    </style><meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <div>
        <h1>404 - Not found.</h1>
        <p>
            The emoji <code id="path"></code> does not exist on this server.<br>
            <ul>
                <li id="spelink"><a id="special">Click for the shortlink emoji (starting with /s/)</a> <noscript>[JS not enabled, just add a /s/ before the emoji name]</noscript> </li>
                <li><a id="home" href="../">Go home</a></li>
            </ul>
        </p>
    </div>

    <script>
        let path = document.getElementById('path');
        let special = document.getElementById('special');

        special.href = '/s' + location.pathname;
        path.innerText = location.pathname;

        !location.pathname.includes("config") &&  fetch('/s' + location.pathname, {method: "HEAD", redirect: "manual"}).then((response) => {
           console.dir(response)
            if (response.headers.get("X-Is-Special-Link") === "FALSE") {
                console.log(`doesn't exist`);
                document.getElementById("spelink").innerText = "The special link for " + location.pathname + " doesn't exist either.";
            }
        });

    </script>

</body>